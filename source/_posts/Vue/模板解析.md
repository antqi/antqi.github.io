什么是模板

HTML中嵌套的JS代码

- 表达式
- 指令



数据劫持是一种技术



初始化路线

更新路线 



Watcher

​	每个表达式都有一个Watcher

​	初始化表达式/一般指令表达式的时候创建

Dep

​	初始化data中的属性做数据劫持时创建。与data中的属性一一对应



Dep和Watcher的关系

​	多对多

​		name -->Dep -->n个Watcher（多个表达式使用到了name，v-text="name" 、name）

​		表达式-->Wather-->n个Dep（多层表达式，a.b.c）

​	如何建立？

​		先建立Dep，后建立Watcher，关系在Watcher时被建立。Dep.target.addSub()





``` mermaid
graph LR
	A[new MVVM]
  B[Observer]
	C[Dep]
	D[Compiler]
	E[Updater]
	F[Watcher]
	A-->B
  B-->C
  C-->F
  F-.->C
  F-->E
  A-.->B
  A-.->D
  D-.->F
  D-.->E

  
```



数据双向绑定

v-model 指令，先实现单向的 data-view

初始化指令的时候，绑定input事件

由input信息变动时，由input事件监听去设置值并通知相关表达式Watcher，由Watcher去通知Updater更细视图

